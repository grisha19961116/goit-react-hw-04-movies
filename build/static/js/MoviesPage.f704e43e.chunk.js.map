{"version":3,"sources":["components/MoviesPage/MoviesPage.module.css","components/MoviesPage/MoviesPage.jsx"],"names":["module","exports","MoviesPage","handleUrl","useRouteMatch","url","useState","saveValue","setSaveValue","useEffect","getQuery","localStorage","getItem","rightRequest","className","s","Searchbar","SearchForm","onSubmit","e","console","log","preventDefault","query","target","lastChild","value","toLowerCase","trim","setItem","handlerSubmit","type","SearchForm__button","SearchForm__input","autoComplete","autoFocus","placeholder","defaultValue","textArea","to","baseUrl","flagTrend"],"mappings":"oGACAA,EAAOC,QAAU,CAAC,UAAY,8BAA8B,WAAa,+BAA+B,mBAAqB,uCAAuC,2BAA2B,6CAA6C,kBAAoB,wC,yGCyDjPC,UAnDf,aAEEC,EAFiC,EAAbA,WACJC,cAARC,KADyB,MAICC,mBAAS,IAJV,mBAI1BC,EAJ0B,KAIfC,EAJe,KAMjCC,qBAAU,WACR,IAAMC,EAAWC,aAAaC,QAAQ,SACrB,OAAbF,GAGJF,EAAaE,KACZ,IAEH,IASMG,EAAY,kHAA8GN,EAA9G,+BAClB,OACE,qCACE,wBAAQO,UAAWC,IAAEC,UAArB,SACE,uBAAMF,UAAWC,IAAEE,WAAYC,SAAU,SAAAC,GAAC,OAb1B,SAAAA,GACpBC,QAAQC,IAAIF,GACZA,EAAEG,iBACF,IAAMC,EAAQJ,EAAEK,OAAOC,UAAUC,MAAMC,cAAcC,OACrDjB,aAAakB,QAAQ,QAASN,GAC9Bf,EAAae,GAQqCO,CAAcX,IAA5D,UACE,wBAAQY,KAAK,SAASjB,UAAWC,IAAEiB,mBAAnC,SACE,sBAAMlB,UAAU,gCAGlB,uBACEA,UAAWC,IAAEkB,kBACbF,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,aAAa,UAInB,cAAC,IAAD,CAAQC,SAAS,oBAAoBC,GAAG,MACzB,KAAdhC,EACC,cAAC,IAAD,CAAMiC,QAAS3B,IAEf,cAAC,IAAD,CAAM2B,QAxBM,yFAwBiBC,WAAW","file":"static/js/MoviesPage.f704e43e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"MoviesPage_Searchbar__152i6\",\"SearchForm\":\"MoviesPage_SearchForm__gswaH\",\"SearchForm__button\":\"MoviesPage_SearchForm__button__2w14_\",\"SearchForm__button-label\":\"MoviesPage_SearchForm__button-label__CMmNp\",\"SearchForm__input\":\"MoviesPage_SearchForm__input__2ADeC\"};","import './MoviesPage.module.css';\nimport s from './MoviesPage.module.css';\nimport { useState, useEffect } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport List from '../List/List';\nimport Button from '../Button/Button';\n\nfunction MoviesPage({ handleUrl }) {\n  const { url } = useRouteMatch();\n  handleUrl(url);\n\n  const [saveValue, setSaveValue] = useState('');\n\n  useEffect(() => {\n    const getQuery = localStorage.getItem('query');\n    if (getQuery === null) {\n      return;\n    }\n    setSaveValue(getQuery);\n  }, []);\n\n  const handlerSubmit = e => {\n    console.log(e);\n    e.preventDefault();\n    const query = e.target.lastChild.value.toLowerCase().trim();\n    localStorage.setItem('query', query);\n    setSaveValue(query);\n  };\n\n  const baseUrlTrend = `https://api.themoviedb.org/3/trending/all/day?api_key=78f2432cb0b978404715fbeff43c36be`;\n  const rightRequest = `https://api.themoviedb.org/3/search/movie?api_key=78f2432cb0b978404715fbeff43c36be&language=en-US&query=${saveValue}&page=1&include_adult=false`;\n  return (\n    <>\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={e => handlerSubmit(e)}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className=\"s.SearchForm-button-label\"></span>\n          </button>\n\n          <input\n            className={s.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            defaultValue=\"\"\n          />\n        </form>\n      </header>\n      <Button textArea=\"back on Home Page\" to=\"/\" />\n      {saveValue !== '' ? (\n        <List baseUrl={rightRequest} />\n      ) : (\n        <List baseUrl={baseUrlTrend} flagTrend={true} />\n      )}\n    </>\n  );\n}\nexport default MoviesPage;\n"],"sourceRoot":""}